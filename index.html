<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>è¹è¹å¹³å®‰å–œä¹</title>

    <!-- åŒä¿é™©è®¾ç½® faviconï¼Œç¡®ä¿åœ¨ GitHub Pages ä¸Šæ­£å¸¸æ˜¾ç¤º -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <style>
        .div {
            perspective: 500;
            width: 100%;
            height: 100%;
            animation: float 1.75s infinite linear;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .rotate {
            max-width: 250px;
            max-height: 250px;
            animation: rotate 1.75s infinite linear;
            object-fit: contain;
        }

        @keyframes rotate {
            0% {
                transform: rotateY(360deg);
            }

            25% {
                transform: rotateY(270deg);
            }

            50% {
                transform: rotateY(180deg);
            }

            75% {
                transform: rotateY(90deg);
            }

            100% {
                transform: rotateY(0deg);
            }
        }

        .shadow {
            width: 128px;
            height: 128px;
            margin-left: calc(50% - 64px);
            border-radius: 128px;
            background-color: #999999;
            transform: rotateX(75deg);
            animation: blur 1.75s infinite linear;
        }

        @keyframes blur {
            0%,
            100% {
                filter: blur(48px);
            }

            50% {
                filter: blur(24px);
            }
        }

        @keyframes float {
            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(24px);
            }
        }

        .button {
            position: fixed;
            right: 0;
            bottom: 0;
            border: none;
            padding: 8px 16px;
            background: white;
            border-radius: 8px 0 0 0;
            transition: 0.1s;
        }

        .playButton {
            position: fixed;
            right: 0;
            top: 0;
            border: none;
            padding: 8px 16px;
            background: white;
            border-radius: 0 0 8px 0;
            transition: 0.1s;
        }

        .button:active,
        .playButton:active {
            background: rgba(0, 0, 0, 0.2);
        }

        .button,
        .playButton {
            border-radius: 8px;
        }
        
        /* ç©å¶æ ·å¼ */
        .mumu {
            width: 80px;
            height: 80px;
            cursor: move;
            background: url(https://img.alicdn.com/imgextra/i2/2210123621994/O1CN019ne3h11QbIltvPjB8_!!2210123621994.gif) no-repeat;
            background-size: cover;
        }
        
        .spig {
            display: block;
            width: 150px;
            height: auto;
            position: absolute;
            top: 100px;
            left: 100px;
            z-index: 9999;
        }
        
        #newmessage {
            color: #191919;
            border: 1px solid #c4c4c4;
            background: #fff;
            border-radius: 12px;
            min-height: 1em;
            padding: 8px 15px;
            top: -45px;
            position: absolute;
            text-align: center;
            width: auto !important;
            z-index: 10000;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            font-size: 14px;
            max-width: 200px;
            word-wrap: break-word;
            opacity: 0;
            transition: opacity 0.3s ease;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
    
    <!-- å¼•å…¥jQueryåº“ -->
    <script src="https://libs.baidu.com/jquery/2.1.4/jquery.min.js"></script>
</head>

<body>
    <h2 style="text-align: center; margin: 32px 0;" id="title">å°è¹è¹çš„å¹³å®‰ç¬¦</h2>
    <div class="div">
        <img src="yy.png" class="rotate" id="rotate" alt="æ—‹è½¬å›¾">
    </div>
    <div class="shadow"></div>
    <h3 style="margin: 16px; text-align: center;" id="timer"></h3>
    <p style="margin: 16px; text-align: center;">ğŸ‘†ä½ å·²ç»çœ‹äº†å¤šä¹…å•¦ï¼ŸğŸ‘†</p>
    <button class="button" id="switchModeBtn">å½“å‰çŠ¶æ€ï¼šè‡ªåŠ¨æ—‹è½¬</button>
    <button class="playButton" id="playPauseBtn">å½“å‰éŸ³ä¹ï¼šæš‚åœ</button>

    <audio src="yy.mp3" id="music" autoplay loop></audio>
    
    <!-- ç©å¶HTMLç»“æ„ -->
    <div id="spig" class="spig">
        <div id="newmessage"></div>
        <div id="mumu" class="mumu"></div>
    </div>

    <script>
        // åŸæœ‰ä»£ç 
        let startTime = new Date();
        let mode = "auto";
        let speed = "slow";
        let tran = 1.75;
        const timerElement = document.getElementById("timer");
        const rotateElement = document.getElementById("rotate");
        const btn = document.getElementById('switchModeBtn');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const music = document.getElementById('music');

        function updateTimer() {
            const nowTime = new Date();
            const runTime = Math.floor((nowTime - startTime) / 1000);
            const runD = Math.floor(runTime / (24 * 60 * 60));
            const runH = String(Math.floor((runTime / (60 * 60)) % 24)).padStart(2, '0');
            const runM = String(Math.floor((runTime / 60) % 60)).padStart(2, '0');
            const runS = String(runTime % 60).padStart(2, '0');
            timerElement.innerHTML = `${runD} : ${runH} : ${runM} : ${runS}`;
        }

        setInterval(updateTimer, 1000);

        btn.addEventListener("click", () => {
            mode = mode === "auto" ? "self" : "auto";
            btn.innerHTML = `å½“å‰çŠ¶æ€ï¼š${mode === "auto" ? "è‡ªåŠ¨æ—‹è½¬" : "æ‰‹åŠ¨æ—‹è½¬"}`;
            if (mode === "auto") {
                tran = 1.75;
            }
        });

        playPauseBtn.addEventListener("click", () => {
            if (music.paused) {
                music.play();
                playPauseBtn.innerHTML = "å½“å‰éŸ³ä¹ï¼šæ’­æ”¾";
            } else {
                music.pause();
                playPauseBtn.innerHTML = "å½“å‰éŸ³ä¹ï¼šæš‚åœ";
            }
        });

        document.documentElement.addEventListener("mousedown", () => {
            if (mode === "self") speed = "fast";
        });

        document.documentElement.addEventListener("mouseup", () => {
            if (mode === "self") speed = "slow";
        });

        setInterval(() => {
            if (mode === "auto") {
                rotateElement.style.animationDuration = tran + "s";
            } else if (mode === "self") {
                if (speed === "fast" && tran > 0.01) {
                    tran -= 0.001;
                } else if (speed === "slow") {
                    tran += 0.001;
                }
                rotateElement.style.animationDuration = tran + "s";
            }
        }, 10);
        
        // ç©å¶äº¤äº’ä»£ç 
        $(document).ready(function () {
            // åˆå§‹åŒ–å˜é‡
            const right_click = 'ä½ æƒ³å¹²å•¥å‘€ï¼Ÿ';
            const onoff_move = '1';
            const touch_array = ["ä¸è¦æ‘¸æˆ‘", "å†æ‘¸æˆ‘ï¼Œæˆ‘å°±æ€æ‰ä½ ï¼", "å¹²å˜›è€æ‘¸æˆ‘å•Šï¼Ÿ", "éç¤¼å‘€ï¼ï¼ï¼ï¼ï¼", "æˆ‘å¯ä»¥å‘Šä½ æ€§ä¾µçŠ¯å—ï¼Ÿ", "è‰²ç‹¼å•Šå•Šï¼"];
            const bored_array = ["é™ªæˆ‘èŠå¤©å§ï¼", "å¥½æ— èŠå“¦ï¼Œä½ éƒ½ä¸é™ªæˆ‘ç©ï¼", "å•¦å•¦å•¦ï¼ï¼ï¼", "æˆ‘å¯çˆ±å§ï¼å˜»å˜»!~^_^!~~", "æ±‚æŠ±æŠ±ï¼Œä¹ˆä¹ˆï¼ï¼"];
            const move_array = ["æˆ‘åœ¨é£ï¼Œå•¦å•¦å•¦å•¦ï¼", "çœ‹ï¼Œæˆ‘åœ¨ç©å‡Œæ³¢å¾®æ­¥ï¼", "å¿«å»å‡‘çƒ­é—¹å“¦", "ç«™ä½ï¼Œä¸è¦è·‘ï¼@_@", "å›´è§‚å»å’¯ï¼", "è·‘ä¸åŠ¨å•¦ï¼ç´¯æ­»æˆ‘äº†ï¼"];
            const over_array = ["æˆ‘éšèº«äº†ï¼Œä½ çœ‹ä¸åˆ°æˆ‘", "æˆ‘ä¼šéšèº«å“¦ï¼å˜¿å˜¿ï¼", "åˆ«åŠ¨æ‰‹åŠ¨è„šçš„ï¼ŒæŠŠæ‰‹æ‹¿å¼€ï¼", "æŠŠæ‰‹æ‹¿å¼€æˆ‘æ‰å‡ºæ¥ï¼", "çœŸå¿æœ¯éšï¼"];
            const visitor = 'æ¬¢è¿å…‰ä¸´';
            
            // å³é”®èœå•å¤„ç†
            $("#spig").mousedown(function (e) {
                if (e.which == 3) {
                    showMessage(right_click, 10000);
                }
            });
            
            $("#spig").bind("contextmenu", function (e) {
                return false;
            });
            
            // é¼ æ ‡åœ¨ç©å¶ä¸Šæ—¶
            $(".mumu").mouseover(function () {
                $(".mumu").fadeTo(300, 0.3);
                showMessage(over_array[Math.floor(Math.random() * over_array.length)]);
            });
            
            $(".mumu").mouseout(function () {
                $(".mumu").fadeTo(300, 1);
            });
            
            // æ ¹æ®æ—¶é—´æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯
            const now = (new Date()).getHours();
            let welcomeMsg = visitor + ' å¿«æ¥é€—æˆ‘ç©å§ï¼';
            
            if (now > 0 && now <= 5) welcomeMsg = visitor + ' å¤œçŒ«è¿˜ä¸ç¡è§‰ï¼Ÿ';
            else if (now > 5 && now <= 6) welcomeMsg = visitor + ' æ–°çš„ä¸€å¤©å¼€å§‹äº†å“¦!';
            else if (now > 6 && now <= 10) welcomeMsg = visitor + ' æ—©ä¸Šå¥½ï¼';
            else if (now > 10 && now <= 13) welcomeMsg = visitor + ' ä¸­åˆäº†ï¼Œåƒé¥­äº†ä¹ˆï¼Ÿ';
            else if (now > 13 && now <= 16) welcomeMsg = visitor + ' ä¸‹åˆçš„æ—¶å…‰çœŸéš¾ç†¬ï¼';
            else if (now > 21 && now <= 23) welcomeMsg = visitor + ' å¤œæ·±äº†ï¼Œè¿˜ä¸ç¡å˜›ï¼Ÿ';
            
            showMessage(welcomeMsg, 6000);
            
            // æ— èŠæ—¶è‡ªåŠ¨è®²è¯
            setInterval(() => {
                showMessage(bored_array[Math.floor(Math.random() * bored_array.length)], 10000);
            }, 35000);
            
            // æ— èŠæ—¶è‡ªåŠ¨ç§»åŠ¨
            setInterval(() => {
                if (onoff_move != 0) {
                    const s = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.75, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.75];
                    const i1 = Math.floor(Math.random() * s.length);
                    
                    $(".spig").animate({
                        left: document.body.offsetWidth / 2 * (1 + s[i1]),
                        top: document.body.offsetHeight / 2 * (1 + s[i1])
                    }, {
                        duration: 2000,
                        complete: showMessage(move_array[Math.floor(Math.random() * move_array.length)])
                    });
                }
            }, 45000);
            
            // é¼ æ ‡ç‚¹å‡»å¤„ç†
            let stat_click = 0;
            $(".mumu").click(function () {
                if (!ismove) {
                    stat_click++;
                    let msgs;
                    if (stat_click > 4) {
                        msgs = ["ä½ æœ‰å®Œæ²¡å®Œå‘€ï¼Ÿ", "ä½ å·²ç»æ‘¸æˆ‘" + stat_click + "æ¬¡äº†", "éç¤¼å‘€ï¼æ•‘å‘½!"];
                    } else {
                        msgs = touch_array;
                    }
                    
                    if (onoff_move != 0) {
                        const s = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.75, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.75];
                        const i1 = Math.floor(Math.random() * s.length);
                        
                        $(".spig").animate({
                            left: document.body.offsetWidth / 2 * (1 + s[i1]),
                            top: document.body.offsetHeight / 2 * (1 + s[i1])
                        }, {
                            duration: 500,
                            complete: showMessage(msgs[Math.floor(Math.random() * msgs.length)])
                        });
                    }
                } else {
                    ismove = false;
                }
            });
            
            // æ‹–åŠ¨å¤„ç†
            let _move = false;
            let ismove = false;
            let _x, _y;
            
            $("#spig").mousedown(function (e) {
                _move = true;
                _x = e.pageX - parseInt($("#spig").css("left"));
                _y = e.pageY - parseInt($("#spig").css("top"));
            });
            
            $(document).mousemove(function (e) {
                if (_move) {
                    const x = e.pageX - _x;
                    const y = e.pageY - _y;
                    const wx = $(window).width() - $('#spig').width();
                    const dy = $(document).height() - $('#spig').height();
                    
                    if (x >= 0 && x <= wx && y > 0 && y <= dy) {
                        $("#spig").css({ top: y, left: x });
                        ismove = true;
                    }
                }
            }).mouseup(function () {
                _move = false;
            });
        });
        
        // æ˜¾ç¤ºæ¶ˆæ¯å‡½æ•°
        function showMessage(a, b = 10000) {
            $("#newmessage").hide().stop().html(a).fadeIn().fadeTo(1, 1);
            setTimeout(() => $("#newmessage").fadeOut(500), b - 500);
        }
    </script>
</body>
</html>
